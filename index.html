<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Examen de Conducir</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Examen de Conducir</h1>
        <button id="theme-toggle" class="theme-btn" aria-label="Cambiar tema">
          <i class="fa-solid fa-moon"></i>
        </button>
      </header>
      <main id="app">
        <!-- Home / Mode Selection -->
        <section
          id="home-screen"
          class="screen active animate__animated animate__fadeIn"
        >
          <h2>Selecciona una modalidad</h2>
          <div class="mode-buttons">
            <button class="btn mode-btn" data-mode="teorica">
              <i class="fa-solid fa-book-open icon"></i>
              Teórica
            </button>
            <button class="btn mode-btn" data-mode="mixto">
              <i class="fa-solid fa-shuffle icon"></i>
              Mixto
            </button>
            <button class="btn mode-btn" data-mode="senales">
              <i class="fa-solid fa-traffic-light icon"></i>
              Señales
            </button>
          </div>
          <button class="btn secondary-btn" id="view-history-btn">
            <i class="fa-solid fa-clock-rotate-left"></i> Ver Historial
          </button>
        </section>

        <!-- Configuration Screen -->
        <section
          id="config-screen"
          class="screen animate__animated animate__fadeIn"
        >
          <h2 id="config-title">Configuración</h2>

          <div class="config-group" id="config-teorica">
            <label
              ><i class="fa-solid fa-list-ol"></i> Preguntas Teóricas (Máx:
              <span id="max-teorica">0</span>)</label
            >
            <input type="number" id="num-teorica" min="1" value="10" />
          </div>

          <div class="config-group" id="config-senales">
            <label
              ><i class="fa-solid fa-signs-post"></i> Preguntas Señales (Máx:
              <span id="max-senales">0</span>)</label
            >
            <input type="number" id="num-senales" min="1" value="10" />
          </div>

          <div class="config-group">
            <label
              ><i class="fa-solid fa-triangle-exclamation"></i> Fallos
              permitidos</label
            >
            <input type="number" id="max-failures" min="0" value="3" />
          </div>

          <button class="btn start-btn" id="start-game-btn">
            <i class="fa-solid fa-play"></i> Comenzar Examen
          </button>
          <button class="btn back-btn" id="back-home-btn">
            <i class="fa-solid fa-arrow-left"></i> Volver
          </button>
        </section>

        <!-- Game Screen -->
        <section
          id="game-screen"
          class="screen animate__animated animate__fadeIn"
        >
          <div class="game-header">
            <div class="timer">
              <i class="fa-regular fa-clock"></i> <span id="timer">00:00</span>
            </div>
            <div class="progress">
              Pregunta <span id="current-q">1</span> /
              <span id="total-q">10</span>
            </div>
          </div>

          <div class="question-container">
            <div id="question-image-container"></div>
            <h3 id="question-text">¿Pregunta?</h3>
            <div class="options-grid" id="options-container">
              <!-- Options will be injected here -->
            </div>
          </div>
        </section>

        <!-- Result Screen -->
        <section
          id="result-screen"
          class="screen animate__animated animate__zoomIn"
        >
          <h2 id="result-title">Resultado</h2>
          <div class="result-card">
            <div class="score-circle">
              <span id="score-percentage">0%</span>
            </div>
            <p id="result-message">Mensaje</p>
            <div class="stats">
              <div class="stat-item">
                <span>Correctas</span>
                <span id="correct-count" class="success">0</span>
              </div>
              <div class="stat-item">
                <span>Incorrectas</span>
                <span id="incorrect-count" class="danger">0</span>
              </div>
              <div class="stat-item">
                <span>Tiempo</span>
                <span id="time-taken">00:00</span>
              </div>
            </div>
          </div>
          <button class="btn primary-btn" id="play-again-btn">
            <i class="fa-solid fa-rotate-right"></i> Jugar de nuevo
          </button>
          <button class="btn secondary-btn" id="home-btn">
            <i class="fa-solid fa-house"></i> Inicio
          </button>

          <div id="questions-summary" class="questions-summary">
            <!-- Questions summary will be injected here -->
          </div>
        </section>

        <!-- History Screen -->
        <section
          id="history-screen"
          class="screen animate__animated animate__fadeIn"
        >
          <h2>Historial de Sesión</h2>
          <div class="history-list" id="history-list">
            <!-- History items -->
          </div>
          <button class="btn back-btn" id="back-from-history">
            <i class="fa-solid fa-arrow-left"></i> Volver
          </button>
        </section>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
